package Panel.Vendor;

import User.Vendor;
import javax.swing.JOptionPane;

/**
 *
 * @author KWAN JUN ER TP066265
 */
public class ProfilePanel extends javax.swing.JPanel {
    private Vendor vendor;
    
    public ProfilePanel() {
        initComponents();
        btnCancelChanges.setEnabled(false);
        btnSaveChanges.setEnabled(false);
        enableLabels(false);
    }
    
    public void displayProfile(Vendor vendor) {
        this.vendor = vendor;
        enableLabels(false);
        clearErrorLabels();
        clearAllLabels();
        lblPassword.setEchoChar('*');
        
        lblStoreName.setText(vendor.getName());
        lblStoreLocation.setText(vendor.getLocation());
        lblEmailAddress.setText(vendor.getEmailAddress());
        lblPassword.setText(vendor.getUserLogin().getPassword());
        lblPhoneNumber.setText(vendor.getPhoneNumber());
        lblRestaurantAddress.setText(vendor.getRestaurantAddress());
        
        for (int i = 0; i < CuisineDropDown.getItemCount(); i++) {
            String cuisine = CuisineDropDown.getItemAt(i);
            if (cuisine.equals(vendor.getCuisine())) {
                CuisineDropDown.setSelectedIndex(i);
                break;
            }
        }
        
        String[] services = vendor.getServices().split(", ");
        for (String service : services) {
            switch (service) {
                case "Delivery" -> DeliverySelection.setSelected(true);
                case "Dine-in" -> DineInSelection.setSelected(true);
                case "Take Away" -> TakeAwaySelection.setSelected(true);
                default -> {
                }
            }
        }
    }
    
    private void clearErrorLabels() {
        lblInvalidStoreName.setVisible(false);
        lblnvalidStoreLocation.setVisible(false);
        lblInvalidEmailAddress.setVisible(false);
        lblInvalidPhoneNumber.setVisible(false);
        lblInvalidServiceType.setVisible(false);
        lblInvalidRestaurantAddress.setVisible(false);
        lblInvalidPassword.setVisible(false);
    }
    
    private void clearAllLabels()
    {
        lblStoreName.setText("");
        lblStoreLocation.setText("");
        lblEmailAddress.setText("");
        lblPassword.setText("");
        lblPhoneNumber.setText("");
        lblRestaurantAddress.setText("");
        CuisineDropDown.setSelectedIndex(-1);  // Clear selection for JComboBox
        DineInSelection.setSelected(false);
        TakeAwaySelection.setSelected(false);
        DeliverySelection.setSelected(false);
    }
    
    private void enableLabels(boolean isEnabled) {
        btnCancelChanges.setEnabled(isEnabled);
        btnSaveChanges.setEnabled(isEnabled);
        btnEdit.setEnabled(!isEnabled);
        
        lblStoreName.setEnabled(isEnabled);
        lblStoreLocation.setEnabled(isEnabled);
        lblEmailAddress.setEnabled(isEnabled);
        lblPassword.setEnabled(isEnabled);
        lblPhoneNumber.setEnabled(isEnabled);
        lblRestaurantAddress.setEnabled(isEnabled);
        CuisineDropDown.setEnabled(isEnabled);
        DineInSelection.setEnabled(isEnabled);
        TakeAwaySelection.setEnabled(isEnabled);
        DeliverySelection.setEnabled(isEnabled);
    }
   

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        lblStoreLocation = new javax.swing.JTextField();
        lblEmailAddress = new javax.swing.JTextField();
        lblPhoneNumber = new javax.swing.JTextField();
        lblPassword = new javax.swing.JPasswordField();
        jScrollPane1 = new javax.swing.JScrollPane();
        lblRestaurantAddress = new javax.swing.JTextArea();
        jLabel2 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        lblInvalidStoreName = new javax.swing.JLabel();
        lblnvalidStoreLocation = new javax.swing.JLabel();
        lblInvalidEmailAddress = new javax.swing.JLabel();
        lblInvalidPhoneNumber = new javax.swing.JLabel();
        lblInvalidPassword = new javax.swing.JLabel();
        lblInvalidServiceType = new javax.swing.JLabel();
        lblInvalidRestaurantAddress = new javax.swing.JLabel();
        lblStoreName = new javax.swing.JTextField();
        btnEdit = new javax.swing.JButton();
        btnSaveChanges = new javax.swing.JButton();
        btnCancelChanges = new javax.swing.JButton();
        CuisineDropDown = new javax.swing.JComboBox<>();
        DineInSelection = new javax.swing.JCheckBox();
        TakeAwaySelection = new javax.swing.JCheckBox();
        DeliverySelection = new javax.swing.JCheckBox();

        setMaximumSize(new java.awt.Dimension(925, 600));
        setMinimumSize(new java.awt.Dimension(925, 600));
        setPreferredSize(new java.awt.Dimension(925, 600));

        jLabel1.setFont(new java.awt.Font("Segoe UI Black", 1, 36)); // NOI18N
        jLabel1.setText("Profile Update");

        jLabel3.setFont(new java.awt.Font("Dubai Light", 0, 24)); // NOI18N
        jLabel3.setText("Store Name:");

        jLabel4.setFont(new java.awt.Font("Dubai Light", 0, 24)); // NOI18N
        jLabel4.setText("Store Location:");

        jLabel5.setFont(new java.awt.Font("Dubai Light", 0, 24)); // NOI18N
        jLabel5.setText("Email Address:");

        jLabel6.setFont(new java.awt.Font("Dubai Light", 0, 24)); // NOI18N
        jLabel6.setText("Restaurant Address:");

        jLabel7.setFont(new java.awt.Font("Dubai Light", 0, 24)); // NOI18N
        jLabel7.setText("Phone Number:");

        jLabel9.setFont(new java.awt.Font("Dubai Light", 0, 24)); // NOI18N
        jLabel9.setText("Service Type:");

        jLabel11.setFont(new java.awt.Font("Dubai Light", 0, 24)); // NOI18N
        jLabel11.setText("Cuisine:");

        jLabel13.setFont(new java.awt.Font("Dubai Light", 0, 24)); // NOI18N
        jLabel13.setText("Password:");

        lblStoreLocation.setFont(new java.awt.Font("Dubai Light", 0, 18)); // NOI18N
        lblStoreLocation.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        lblStoreLocation.setEnabled(false);

        lblEmailAddress.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        lblEmailAddress.setEnabled(false);

        lblPhoneNumber.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        lblPhoneNumber.setEnabled(false);

        lblPassword.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        lblPassword.setText("jPasswordField1");
        lblPassword.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        lblPassword.setEnabled(false);

        lblRestaurantAddress.setColumns(20);
        lblRestaurantAddress.setLineWrap(true);
        lblRestaurantAddress.setRows(5);
        lblRestaurantAddress.setWrapStyleWord(true);
        lblRestaurantAddress.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        lblRestaurantAddress.setEnabled(false);
        jScrollPane1.setViewportView(lblRestaurantAddress);

        lblInvalidStoreName.setForeground(new java.awt.Color(255, 0, 0));
        lblInvalidStoreName.setText("Invalid Store Name");

        lblnvalidStoreLocation.setForeground(new java.awt.Color(255, 0, 0));
        lblnvalidStoreLocation.setText("Invalid Store Location");

        lblInvalidEmailAddress.setForeground(new java.awt.Color(255, 0, 0));
        lblInvalidEmailAddress.setText("Invalid Email Address");

        lblInvalidPhoneNumber.setForeground(new java.awt.Color(255, 0, 0));
        lblInvalidPhoneNumber.setText("Invalid Phone Number");

        lblInvalidPassword.setForeground(new java.awt.Color(255, 0, 0));
        lblInvalidPassword.setText("Invalid Password");

        lblInvalidServiceType.setForeground(new java.awt.Color(255, 0, 0));
        lblInvalidServiceType.setText("Invalid Service Type");

        lblInvalidRestaurantAddress.setForeground(new java.awt.Color(255, 0, 0));
        lblInvalidRestaurantAddress.setText("Invalid Restaurant Address");

        lblStoreName.setFont(new java.awt.Font("Dubai Light", 0, 18)); // NOI18N
        lblStoreName.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        lblStoreName.setEnabled(false);

        btnEdit.setFont(new java.awt.Font("Segoe UI", 1, 24)); // NOI18N
        btnEdit.setText("Edit ");
        btnEdit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnEditActionPerformed(evt);
            }
        });

        btnSaveChanges.setFont(new java.awt.Font("Segoe UI", 1, 24)); // NOI18N
        btnSaveChanges.setText("Save Changes");
        btnSaveChanges.setEnabled(false);
        btnSaveChanges.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSaveChangesActionPerformed(evt);
            }
        });

        btnCancelChanges.setFont(new java.awt.Font("Segoe UI", 1, 24)); // NOI18N
        btnCancelChanges.setText("Cancel Changes ");
        btnCancelChanges.setEnabled(false);
        btnCancelChanges.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCancelChangesActionPerformed(evt);
            }
        });

        CuisineDropDown.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        CuisineDropDown.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "American", "Chinese", "Japanese", "Korean", "Thai", "Vietnamese", "Indian", "Italian", "Mexican", "Mediterranean", "Middle Eastern", "Mexican", "Brazilian", "Peruvian", "Argentinian", "French", "German", "Spanish", "Greek", "British", "Others", "African", "Caribbean", "Vegetarian/Vegan", "Seafood", "BBQ/Grill", "Fast Food", "Pizza", "Burgers", "Sandwiches", "Desserts", "Coffee/Tea", "Ice Cream/Frozen Yogurt", "Bakery", "Sushi", "Health Food", "Gluten-Free", "Kosher", "Halal", "Food Trucks", "Street Food", "Asian Fusion", "Tex-Mex" }));
        CuisineDropDown.setEnabled(false);

        DineInSelection.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        DineInSelection.setText("Dine-In");
        DineInSelection.setEnabled(false);

        TakeAwaySelection.setText("Take Away");
        TakeAwaySelection.setEnabled(false);
        TakeAwaySelection.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TakeAwaySelectionActionPerformed(evt);
            }
        });

        DeliverySelection.setText("Delivery");
        DeliverySelection.setEnabled(false);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(btnEdit, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(10, 10, 10)
                        .addComponent(btnSaveChanges)
                        .addGap(15, 15, 15)
                        .addComponent(btnCancelChanges, javax.swing.GroupLayout.PREFERRED_SIZE, 260, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(layout.createSequentialGroup()
                            .addGap(356, 356, 356)
                            .addComponent(jLabel1))
                        .addGroup(layout.createSequentialGroup()
                            .addGap(39, 39, 39)
                            .addComponent(jLabel3)
                            .addGap(12, 12, 12)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addGroup(layout.createSequentialGroup()
                                    .addComponent(lblStoreName, javax.swing.GroupLayout.PREFERRED_SIZE, 274, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGap(18, 18, 18)
                                    .addComponent(jLabel9)
                                    .addGap(6, 6, 6)
                                    .addComponent(DineInSelection)
                                    .addGap(6, 6, 6)
                                    .addComponent(TakeAwaySelection)
                                    .addGap(6, 6, 6)
                                    .addComponent(DeliverySelection))
                                .addGroup(layout.createSequentialGroup()
                                    .addGap(163, 163, 163)
                                    .addComponent(lblInvalidStoreName)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(lblInvalidServiceType))))
                        .addGroup(layout.createSequentialGroup()
                            .addGap(170, 170, 170)
                            .addComponent(jLabel2))
                        .addGroup(layout.createSequentialGroup()
                            .addGap(10, 10, 10)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(layout.createSequentialGroup()
                                    .addGap(4, 4, 4)
                                    .addComponent(jLabel4))
                                .addGroup(layout.createSequentialGroup()
                                    .addGap(8, 8, 8)
                                    .addComponent(jLabel5))
                                .addComponent(jLabel7))
                            .addGap(12, 12, 12)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(lblStoreLocation, javax.swing.GroupLayout.PREFERRED_SIZE, 274, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGroup(layout.createSequentialGroup()
                                    .addGap(126, 126, 126)
                                    .addComponent(lblnvalidStoreLocation))
                                .addComponent(lblEmailAddress, javax.swing.GroupLayout.PREFERRED_SIZE, 274, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGroup(layout.createSequentialGroup()
                                    .addGap(150, 150, 150)
                                    .addComponent(lblInvalidEmailAddress))
                                .addComponent(lblPhoneNumber, javax.swing.GroupLayout.PREFERRED_SIZE, 274, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGap(16, 16, 16)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel6)
                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 450, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGroup(layout.createSequentialGroup()
                            .addGap(315, 315, 315)
                            .addComponent(lblInvalidPhoneNumber)
                            .addGap(306, 306, 306)
                            .addComponent(lblInvalidRestaurantAddress, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(layout.createSequentialGroup()
                            .addGap(85, 85, 85)
                            .addComponent(jLabel11)
                            .addGap(12, 12, 12)
                            .addComponent(CuisineDropDown, javax.swing.GroupLayout.PREFERRED_SIZE, 274, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGap(16, 16, 16)
                            .addComponent(jLabel13)
                            .addGap(5, 5, 5)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(lblPassword, javax.swing.GroupLayout.PREFERRED_SIZE, 230, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGroup(layout.createSequentialGroup()
                                    .addGap(130, 130, 130)
                                    .addComponent(lblInvalidPassword, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))))))
                .addContainerGap(15, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(6, 6, 6)
                .addComponent(jLabel1)
                .addGap(35, 35, 35)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(2, 2, 2)
                        .addComponent(lblStoreName, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(lblInvalidStoreName))
                    .addComponent(jLabel9)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(DineInSelection))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(12, 12, 12)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(TakeAwaySelection)
                            .addComponent(DeliverySelection))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(lblInvalidServiceType)))
                .addGap(12, 12, 12)
                .addComponent(jLabel2)
                .addGap(4, 4, 4)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jLabel4)
                        .addGap(31, 31, 31)
                        .addComponent(jLabel5)
                        .addGap(38, 38, 38)
                        .addComponent(jLabel7))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(2, 2, 2)
                        .addComponent(lblStoreLocation, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(lblnvalidStoreLocation)
                        .addGap(7, 7, 7)
                        .addComponent(lblEmailAddress, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(lblInvalidEmailAddress)
                        .addGap(14, 14, 14)
                        .addComponent(lblPhoneNumber, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(7, 7, 7)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel6)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(40, 40, 40)
                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(6, 6, 6)
                        .addComponent(lblInvalidPhoneNumber))
                    .addComponent(lblInvalidRestaurantAddress, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(12, 12, 12)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel11)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addComponent(CuisineDropDown, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(4, 4, 4)
                        .addComponent(jLabel13))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(4, 4, 4)
                        .addComponent(lblPassword, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, 0)
                        .addComponent(lblInvalidPassword, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 84, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btnEdit)
                    .addComponent(btnSaveChanges)
                    .addComponent(btnCancelChanges, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );
    }// </editor-fold>//GEN-END:initComponents

    private void btnEditActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEditActionPerformed
        enableLabels(true);
    }//GEN-LAST:event_btnEditActionPerformed

    private void btnCancelChangesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCancelChangesActionPerformed
        displayProfile(vendor);
    }//GEN-LAST:event_btnCancelChangesActionPerformed

    private void btnSaveChangesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSaveChangesActionPerformed
        clearErrorLabels();
        
        String name = lblStoreName.getText();
        String emailAddress = lblEmailAddress.getText();
        String phoneNumber = lblPhoneNumber.getText();
        String restaurantAddresss = lblRestaurantAddress.getText();
        String password = lblPassword.getText();
        String storelocation = lblStoreLocation.getText();
        StringBuilder selectedOptions = new StringBuilder();

        if (DeliverySelection.isSelected()) {
             selectedOptions.append("Delivery, ");
        }

        if (DineInSelection.isSelected()) {
            selectedOptions.append("Dine-in, ");
        }

        if (TakeAwaySelection.isSelected()) {
             selectedOptions.append("Take Away, ");
        }

        // Remove the trailing comma and space if any
        String services = selectedOptions.toString().replaceAll(", $", "");
        
        String selectedCuisine = (String) CuisineDropDown.getSelectedItem();
        
        int error = 0;
         if (name.isEmpty()) {
            lblInvalidStoreName.setVisible(true);
            error++;
        }
        if (emailAddress.isEmpty() || !emailAddress.contains("@") || !emailAddress.contains(".com")) {
            lblInvalidEmailAddress.setVisible(true);
            error++;
        }
        if (phoneNumber.isEmpty() || phoneNumber.length() != 10) {
            lblInvalidPhoneNumber.setVisible(true);
            error++;
        }
        if (password.isEmpty()) {
            lblInvalidPassword.setVisible(true);
            error++;
        }
        if(restaurantAddresss.isEmpty())
        {
            lblInvalidRestaurantAddress.setVisible(true);
            error++;
        }
        if(storelocation.isEmpty())
        {
            lblnvalidStoreLocation.setVisible(true);
            error++;
        }
         if (!(DeliverySelection.isSelected() || DineInSelection.isSelected() || TakeAwaySelection.isSelected())) {
            lblInvalidServiceType.setVisible(true);
            error++;
        }
        if (error == 0) {
            vendor.setName(name);
            vendor.setPhoneNumber(phoneNumber);
            vendor.setEmailAddress(emailAddress);
            vendor.updatePassword(password);
            vendor.setRestaurantAddress(restaurantAddresss);
            vendor.setCuisine(selectedCuisine);
            vendor.setServices(services);           
            
            vendor.getUserLogin().updateData("Login");
            if (vendor.updateData("Vendor") == true) {
                JOptionPane.showMessageDialog(this, "Profile updated.");
                displayProfile(vendor);
                
                MainPanel parent = (MainPanel) getParent();
                parent.updateVendor(vendor);
                
            } else {
                JOptionPane.showMessageDialog(this, "Unable to update profile. Please try again.");
            }
        }
    }//GEN-LAST:event_btnSaveChangesActionPerformed

    private void TakeAwaySelectionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TakeAwaySelectionActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_TakeAwaySelectionActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox<String> CuisineDropDown;
    private javax.swing.JCheckBox DeliverySelection;
    private javax.swing.JCheckBox DineInSelection;
    private javax.swing.JCheckBox TakeAwaySelection;
    private javax.swing.JButton btnCancelChanges;
    private javax.swing.JButton btnEdit;
    private javax.swing.JButton btnSaveChanges;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTextField lblEmailAddress;
    private javax.swing.JLabel lblInvalidEmailAddress;
    private javax.swing.JLabel lblInvalidPassword;
    private javax.swing.JLabel lblInvalidPhoneNumber;
    private javax.swing.JLabel lblInvalidRestaurantAddress;
    private javax.swing.JLabel lblInvalidServiceType;
    private javax.swing.JLabel lblInvalidStoreName;
    private javax.swing.JPasswordField lblPassword;
    private javax.swing.JTextField lblPhoneNumber;
    private javax.swing.JTextArea lblRestaurantAddress;
    private javax.swing.JTextField lblStoreLocation;
    private javax.swing.JTextField lblStoreName;
    private javax.swing.JLabel lblnvalidStoreLocation;
    // End of variables declaration//GEN-END:variables
}
